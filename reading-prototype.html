<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inline Assistant - Reading Mode Prototype</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: #e0e0e0;
      padding: 0;
      line-height: 1.6;
      display: flex;
      justify-content: center;
      min-height: 100vh;
    }

    .phone-frame {
      max-width: 390px;
      width: 100%;
      background: #f5f5f5;
      min-height: 100vh;
      position: relative;
      box-shadow: 0 0 40px rgba(0,0,0,0.2);
    }

    .article {
      background: white;
      padding: 20px 16px;
    }

    .article h1 {
      font-size: 28px;
      margin-bottom: 8px;
      color: #1a1a1a;
    }

    .article .meta {
      color: #666;
      font-size: 14px;
      margin-bottom: 24px;
    }

    .article p {
      margin-bottom: 16px;
      color: #333;
      font-size: 16px;
      cursor: pointer;
      padding: 8px;
      border-radius: 6px;
      transition: background 0.2s;
      user-select: none;
      -webkit-user-select: none;
    }

    .article p:hover {
      background: #f0f0f0;
    }

    .article p.selected {
      background: #e3f2fd;
      position: relative;
    }

    .assistant-panel {
      position: fixed;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      max-width: 390px;
      width: 100%;
      background: white;
      border-radius: 16px 16px 0 0;
      box-shadow: 0 -4px 12px rgba(0,0,0,0.15);
      padding: 12px 16px;
      z-index: 1000;
      display: none;
    }

    .assistant-panel.visible {
      display: block;
    }

    .quick-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 12px;
    }

    .action-btn {
      padding: 8px 12px;
      border: 1px solid #e0e0e0;
      background: white;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
      display: flex;
      align-items: center;
      gap: 5px;
      color: #333;
      white-space: nowrap;
      flex-shrink: 0;
    }

    .action-btn:active {
      background: #f5f5f5;
      transform: scale(0.96);
      border-color: #667eea;
    }

    .action-btn .icon {
      font-size: 14px;
      line-height: 1;
    }

    .custom-input {
      position: relative;
      margin-bottom: 8px;
    }

    .custom-input input {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid #e0e0e0;
      border-radius: 12px;
      font-size: 16px;
      outline: none;
      background: #f8f8f8;
    }

    .custom-input input:focus {
      border-color: #667eea;
      background: white;
    }

    .custom-input input::placeholder {
      color: #999;
    }

    .keyboard {
      background: #d3d7db;
      padding: 8px;
      border-radius: 8px 8px 0 0;
      display: none;
    }

    .keyboard.visible {
      display: block;
    }

    .keyboard-row {
      display: flex;
      gap: 4px;
      margin-bottom: 6px;
      justify-content: center;
    }

    .keyboard-row:last-child {
      margin-bottom: 0;
    }

    .key {
      background: white;
      border: none;
      border-radius: 5px;
      padding: 12px 8px;
      font-size: 16px;
      font-weight: 400;
      cursor: pointer;
      min-width: 28px;
      box-shadow: 0 1px 0 rgba(0,0,0,0.1);
      flex: 1;
      max-width: 34px;
    }

    .key.wide {
      flex: 1.5;
      max-width: 50px;
    }

    .key.space {
      flex: 3;
      max-width: 150px;
    }

    .key:active {
      background: #e0e0e0;
      transform: scale(0.95);
    }

    .response-card {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      max-width: 350px;
      width: 90%;
      background: white;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.2);
      z-index: 1001;
      display: none;
    }

    .response-card.visible {
      display: block;
    }

    .response-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
      padding-bottom: 12px;
      border-bottom: 1px solid #e0e0e0;
    }

    .response-icon {
      width: 32px;
      height: 32px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 50%;
    }

    .response-title {
      font-size: 16px;
      font-weight: 600;
      color: #1a1a1a;
    }

    .response-content {
      font-size: 14px;
      line-height: 1.6;
      color: #333;
      margin-bottom: 16px;
    }

    .response-close {
      width: 100%;
      padding: 12px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
    }

    .response-close:active {
      background: #5568d3;
    }

    .overlay-dim {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 1000;
      display: none;
    }

    .overlay-dim.visible {
      display: block;
    }

  </style>
</head>
<body>
  <div class="phone-frame">
    <div class="article">
    <h1>The Future of AI Assistants</h1>
    <div class="meta">Published on Feb 19, 2026 ‚Ä¢ 5 min read</div>

    <p data-id="p1">Artificial intelligence has transformed how we interact with technology. From simple chatbots to sophisticated language models, AI assistants have become an integral part of our daily digital lives.</p>

    <p data-id="p2">The latest generation of AI assistants can understand context, provide nuanced responses, and even help with complex tasks like writing code or analyzing data. This evolution has been driven by advances in machine learning and natural language processing.</p>

    <p data-id="p3">One emerging trend is the integration of AI assistants directly into browsing experiences. Rather than switching between tabs or applications, users can get instant help with selected text or content they're reading.</p>

    <p data-id="p4">Mobile implementations present unique challenges. Text selection is more difficult on touch screens, and screen real estate is limited. Designers must balance functionality with usability, creating interfaces that feel natural on smaller devices.</p>

    <p data-id="p5">The key to success lies in understanding user behavior. On mobile, quick actions and contextual suggestions work better than complex interfaces. Users want instant results without interrupting their reading flow.</p>
    </div>

    <div class="overlay-dim" id="overlayDim"></div>

    <div class="assistant-panel" id="assistantPanel">
      <div class="quick-actions">
        <button class="action-btn" onclick="handleAction('Fact-check')">
          <span class="icon">‚úì</span>
          <span>Fact-check</span>
        </button>
        <button class="action-btn" onclick="handleAction('Define')">
          <span class="icon">üìñ</span>
          <span>Define</span>
        </button>
        <button class="action-btn" onclick="handleAction('Summarize')">
          <span class="icon">üìù</span>
          <span>Summarize</span>
        </button>
        <button class="action-btn" onclick="handleAction('Translate')">
          <span class="icon">üåê</span>
          <span>Translate</span>
        </button>
        <button class="action-btn" onclick="handleAction('Explain')">
          <span class="icon">üí°</span>
          <span>Explain</span>
        </button>
        <button class="action-btn" onclick="handleAction('Related')">
          <span class="icon">üîó</span>
          <span>Related</span>
        </button>
      </div>

      <div class="custom-input">
        <input
          type="text"
          placeholder="Ask anything..."
          id="customInput"
          onkeypress="handleCustomInput(event)"
          onfocus="showKeyboard()"
        />
      </div>

      <div class="keyboard" id="keyboard">
        <div class="keyboard-row">
          <button class="key">Q</button>
          <button class="key">W</button>
          <button class="key">E</button>
          <button class="key">R</button>
          <button class="key">T</button>
          <button class="key">Y</button>
          <button class="key">U</button>
          <button class="key">I</button>
          <button class="key">O</button>
          <button class="key">P</button>
        </div>
        <div class="keyboard-row">
          <button class="key">A</button>
          <button class="key">S</button>
          <button class="key">D</button>
          <button class="key">F</button>
          <button class="key">G</button>
          <button class="key">H</button>
          <button class="key">J</button>
          <button class="key">K</button>
          <button class="key">L</button>
        </div>
        <div class="keyboard-row">
          <button class="key">Z</button>
          <button class="key">X</button>
          <button class="key">C</button>
          <button class="key">V</button>
          <button class="key">B</button>
          <button class="key">N</button>
          <button class="key">M</button>
        </div>
        <div class="keyboard-row">
          <button class="key space">space</button>
        </div>
      </div>
    </div>

    <div class="response-card" id="responseCard">
      <div class="response-header">
        <div class="response-icon"></div>
        <div class="response-title" id="responseTitle">Response</div>
      </div>
      <div class="response-content" id="responseContent">
        This is where the AI response would appear. In a real implementation, this would show the result from your query.
      </div>
      <button class="response-close" onclick="hideResponse()">Close</button>
    </div>
  </div>

  <script>
    let selectedParagraph = null;
    let selectedText = '';

    document.querySelectorAll('.article p').forEach(p => {
      p.addEventListener('click', function() {
        // Deselect previous
        if (selectedParagraph) {
          selectedParagraph.classList.remove('selected');
        }

        // Select new
        this.classList.add('selected');
        selectedParagraph = this;

        // Store selected text
        selectedText = this.textContent;
        showPopup();
      });
    });

    function showPopup() {
      document.getElementById('assistantPanel').classList.add('visible');
    }

    function hidePopup() {
      document.getElementById('assistantPanel').classList.remove('visible');
      document.getElementById('keyboard').classList.remove('visible');
      document.getElementById('customInput').value = '';
      document.getElementById('customInput').blur();

      if (selectedParagraph) {
        selectedParagraph.classList.remove('selected');
        selectedParagraph = null;
      }
    }

    function showKeyboard() {
      document.getElementById('keyboard').classList.add('visible');
    }

    function showResponse(title, content) {
      document.getElementById('responseTitle').textContent = title;
      document.getElementById('responseContent').textContent = content;
      document.getElementById('responseCard').classList.add('visible');
      document.getElementById('overlayDim').classList.add('visible');
      hidePopup();
    }

    function hideResponse() {
      document.getElementById('responseCard').classList.remove('visible');
      document.getElementById('overlayDim').classList.remove('visible');
    }

    document.getElementById('overlayDim').addEventListener('click', hideResponse);

    function handleAction(action) {
      console.log('Action:', action, 'on text:', selectedText.substring(0, 50) + '...');
      showResponse(
        action,
        `${action} result for: "${selectedText.substring(0, 100)}..."\n\nIn a real app, this would show the AI-generated response based on your selected text.`
      );
    }

    function handleCustomInput(event) {
      if (event.key === 'Enter') {
        const query = event.target.value;
        if (!query.trim()) return;

        console.log('Custom query:', query, 'on text:', selectedText.substring(0, 50) + '...');
        showResponse(
          'Custom Query',
          `Query: "${query}"\n\nSelected text: "${selectedText.substring(0, 100)}..."\n\nIn a real app, this would show the AI response to your custom question about the selected text.`
        );
      }
    }
  </script>
</body>
</html>
