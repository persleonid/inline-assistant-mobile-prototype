<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inline Assistant - Reading Mode Prototype</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: #e0e0e0;
      padding: 0;
      line-height: 1.6;
      display: flex;
      justify-content: center;
      min-height: 100vh;
    }

    .phone-frame {
      max-width: 390px;
      width: 100%;
      background: #f5f5f5;
      min-height: 100vh;
      position: relative;
      box-shadow: 0 0 40px rgba(0,0,0,0.2);
    }

    .article {
      background: white;
      padding: 20px 16px;
    }

    .article h1 {
      font-size: 28px;
      margin-bottom: 8px;
      color: #1a1a1a;
    }

    .article .meta {
      color: #666;
      font-size: 14px;
      margin-bottom: 24px;
    }

    .article p {
      margin-bottom: 16px;
      color: #333;
      font-size: 16px;
      cursor: pointer;
      padding: 8px;
      border-radius: 6px;
      transition: background 0.2s;
      user-select: none;
      -webkit-user-select: none;
    }

    .article p:hover {
      background: #f0f0f0;
    }

    .article p.selected {
      background: #e3f2fd;
      position: relative;
    }

    .assistant-input-wrapper {
      position: fixed;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      max-width: 390px;
      width: 100%;
      z-index: 1000;
      padding: 0 16px 16px;
      display: none;
    }

    .quick-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 8px;
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      transition: all 0.3s;
    }

    .quick-actions.visible {
      max-height: 200px;
      opacity: 1;
    }

    .action-btn {
      padding: 8px 12px;
      border: 1px solid rgba(255,255,255,0.3);
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
      display: flex;
      align-items: center;
      gap: 5px;
      color: white;
      white-space: nowrap;
      flex-shrink: 0;
    }

    .action-btn:active {
      background: rgba(255,255,255,0.25);
      transform: scale(0.96);
    }

    .action-btn .icon {
      font-size: 14px;
      line-height: 1;
    }

    .custom-input {
      position: relative;
    }

    .custom-input input {
      width: 100%;
      padding: 14px 16px;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      outline: none;
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .custom-input input::placeholder {
      color: #999;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.85);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
      z-index: 999;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .overlay.visible {
      opacity: 1;
      pointer-events: auto;
    }

    .assistant-branding {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
      margin-bottom: 120px;
    }

    .assistant-logo {
      width: 80px;
      height: 80px;
      background: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .assistant-logo::before {
      content: '';
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 50%;
    }

    .assistant-name {
      color: white;
      font-size: 20px;
      font-weight: 500;
    }

  </style>
</head>
<body>
  <div class="phone-frame">
    <div class="article">
    <h1>The Future of AI Assistants</h1>
    <div class="meta">Published on Feb 19, 2026 ‚Ä¢ 5 min read</div>

    <p data-id="p1">Artificial intelligence has transformed how we interact with technology. From simple chatbots to sophisticated language models, AI assistants have become an integral part of our daily digital lives.</p>

    <p data-id="p2">The latest generation of AI assistants can understand context, provide nuanced responses, and even help with complex tasks like writing code or analyzing data. This evolution has been driven by advances in machine learning and natural language processing.</p>

    <p data-id="p3">One emerging trend is the integration of AI assistants directly into browsing experiences. Rather than switching between tabs or applications, users can get instant help with selected text or content they're reading.</p>

    <p data-id="p4">Mobile implementations present unique challenges. Text selection is more difficult on touch screens, and screen real estate is limited. Designers must balance functionality with usability, creating interfaces that feel natural on smaller devices.</p>

    <p data-id="p5">The key to success lies in understanding user behavior. On mobile, quick actions and contextual suggestions work better than complex interfaces. Users want instant results without interrupting their reading flow.</p>
    </div>

    <div class="overlay" id="overlay">
      <div class="assistant-branding">
        <div class="assistant-logo"></div>
        <div class="assistant-name">Assistant</div>
      </div>
    </div>

    <div class="assistant-input-wrapper" id="inputWrapper">
      <div class="quick-actions" id="quickActions">
        <button class="action-btn" onclick="handleAction('fact-check')">
          <span class="icon">‚úì</span>
          <span>Fact-check</span>
        </button>
        <button class="action-btn" onclick="handleAction('define')">
          <span class="icon">üìñ</span>
          <span>Define</span>
        </button>
        <button class="action-btn" onclick="handleAction('summarize')">
          <span class="icon">üìù</span>
          <span>Summarize</span>
        </button>
        <button class="action-btn" onclick="handleAction('translate')">
          <span class="icon">üåê</span>
          <span>Translate</span>
        </button>
        <button class="action-btn" onclick="handleAction('explain')">
          <span class="icon">üí°</span>
          <span>Explain</span>
        </button>
        <button class="action-btn" onclick="handleAction('related')">
          <span class="icon">üîó</span>
          <span>Related</span>
        </button>
      </div>

      <div class="custom-input">
        <input
          type="text"
          placeholder="Ask anything..."
          id="customInput"
          onkeypress="handleCustomInput(event)"
          onfocus="showQuickActions()"
        />
      </div>
    </div>
  </div>

  <script>
    let selectedParagraph = null;
    let selectedText = '';

    document.querySelectorAll('.article p').forEach(p => {
      p.addEventListener('click', function() {
        // Deselect previous
        if (selectedParagraph) {
          selectedParagraph.classList.remove('selected');
        }

        // Select new
        this.classList.add('selected');
        selectedParagraph = this;

        // Store selected text
        selectedText = this.textContent;
        showPopup();
      });
    });

    function showPopup() {
      document.getElementById('overlay').classList.add('visible');
      document.getElementById('inputWrapper').style.display = 'block';
      document.body.style.overflow = 'hidden';
    }

    function hidePopup() {
      document.getElementById('overlay').classList.remove('visible');
      document.getElementById('inputWrapper').style.display = 'none';
      document.getElementById('quickActions').classList.remove('visible');
      document.getElementById('customInput').value = '';
      document.body.style.overflow = '';

      if (selectedParagraph) {
        selectedParagraph.classList.remove('selected');
        selectedParagraph = null;
      }
    }

    function showQuickActions() {
      document.getElementById('quickActions').classList.add('visible');
    }

    document.getElementById('overlay').addEventListener('click', function(e) {
      if (e.target === document.getElementById('overlay')) {
        hidePopup();
      }
    });

    function handleAction(action) {
      console.log('Action:', action, 'on text:', selectedText.substring(0, 50) + '...');
      alert(`Action: ${action}\n\nIn real app, this would:\n1. Send text to backend\n2. Open sidecar with result\n3. Hide this popup`);
      hidePopup();
    }

    function handleCustomInput(event) {
      if (event.key === 'Enter') {
        const query = event.target.value;
        console.log('Custom query:', query, 'on text:', selectedText.substring(0, 50) + '...');
        alert(`Custom query: "${query}"\n\nIn real app, this would:\n1. Send query + selected text to backend\n2. Open sidecar with result\n3. Hide this popup`);
        hidePopup();
      }
    }
  </script>
</body>
</html>
